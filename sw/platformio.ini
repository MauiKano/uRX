; PlatformIO Project Configuration File for uRX Navtex SDR
; --------------------------------------------------------
; Board: ESP32-S3-WROOM-1/2 (N16 variant)
; Features: I2S Audio, Dual Display (TFT & E-Ink), Si4732, Si5351, GPS

[env:esp32-s3-wroom-1-n16]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Target the N16 Flash size (16MB)
board_build.arduino.memory_type = qio_qspi
board_build.flash_mode = qio
board_build.f_flash = 80000000L
board_upload.flash_size = 16MB

; Ensure PSRAM is disabled to free up GPIOs 33-37
build_flags = 
    -D CORE_DEBUG_LEVEL=0
    -D ARDUINO_USB_MODE=1
    -D ARDUINO_USB_CDC_ON_BOOT=1
    ; TFT_eSPI Settings (pins as defined in your setup)
    -D USER_SETUP_LOADED=1
    -D ST7789_DRIVER=1
    -D TFT_WIDTH=170
    -D TFT_HEIGHT=320
    -D TFT_MOSI=1
    -D TFT_SCLK=2
    -D TFT_CS=8
    -D TFT_DC=5
    -D TFT_RST=6
    -D LOAD_GLCD=1
    -D SPI_FREQUENCY=40000000

; Library Dependencies
lib_deps =
    zinggjm/GxEPD2 @ ^1.5.0
    bodmer/TFT_eSPI @ ^2.5.0
    pu2clr/SI4735 @ ^2.1.0
    etherkit/Si5351 @ ^2.1.0
    mikalhart/TinyGPSPlus @ ^1.0.3
    https://github.com  ; Optional, if needed for flexible pin routing

; Serial Monitor Settings
monitor_speed = 115200
monitor_filters = esp32_exception_decoder
